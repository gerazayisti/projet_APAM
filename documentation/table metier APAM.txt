Contenu de la documentation MCD et MLD pour le projet AP.A.M avec intégration blockchain pour partage des carnet de sante entre patient medecin:

# Modèles de Données - Application Assistant Médical (AP.A.M)

 I. Modèle Conceptuel de Données (MCD)

Entités Principales

 1. UTILISATEUR
- Identifiant : id_utilisateur (clé primaire)
- Type : patient | professionnel_sante
- Informations de base : nom, prénom, email, téléphone, date_naissance
- Sécurité : mot_de_passe_hashé, sel_authentification
- Statut : actif | inactif | suspendu
- Date création : timestamp
- Dernière connexion : timestamp

 2. PATIENT (hérite d'UTILISATEUR)
- Informations médicales : groupe_sanguin, taille, poids
- Allergies : liste des allergies connues
- Personne contact urgence : nom, téléphone, relation
- Préférences : langue, notifications
- Hash blockchain : identifiant unique sur la blockchain

 3. PROFESSIONNEL_SANTE (hérite d'UTILISATEUR)
- Spécialité : médecine_générale | cardiologie | dermatologie | etc.
- Numéro licence : numéro d'ordre des médecins
- Établissement : hôpital ou clinique d'affiliation
- Tarifs : consultation_presentielle, consultation_en_ligne
- Statut validation : en_attente | validé | rejeté
- Certificats : diplômes et certifications

 4. RENDEZ_VOUS
- Identifiant : id_rendez_vous (clé primaire)
- Patient : référence vers PATIENT
- Professionnel : référence vers PROFESSIONNEL_SANTE
- Date et heure : timestamp
- Type : presentiel | en_ligne
- Statut : planifié | confirmé | en_cours | terminé | annulé
- Motif : description de la consultation
- Notes médecin : observations du professionnel
- Hash blockchain : pour traçabilité

5. CONSULTATION_EN_LIGNE
- Identifiant : id_consultation (clé primaire)
- Rendez-vous : référence vers RENDEZ_VOUS
- Type communication : video | chat | audio
- Lien vidéoconférence : URL sécurisée
- Durée : temps de consultation
- Enregistrement : autorisé | interdit
- Transcription : texte de la consultation
- Hash blockchain : pour immutabilité

 6. JOURNAL_SANTE
- Identifiant : id_entree (clé primaire)
- Patient : référence vers PATIENT
- Date entrée : timestamp
- Type : symptome | mesure | traitement | note
- Description : texte libre
- Niveau douleur : 1-10 (optionnel)
- Pièces jointes : photos, documents
- Hash blockchain : pour intégrité des données

 7. MEDICAMENT
- Identifiant : id_medicament (clé primaire)
- Nom commercial : marque du médicament
- Nom générique : principe actif
- Dosage : concentration
- Forme : comprimé | sirop | injection | etc.
- Laboratoire : fabricant
- Code ATC : classification thérapeutique

 8. SUIVI_MEDICAMENT
- Identifiant : id_suivi (clé primaire)
- Patient : référence vers PATIENT
- Médicament : référence vers MEDICAMENT
- Prescription : référence vers PRESCRIPTION
- Date début : timestamp
- Date fin : timestamp
- Fréquence : quotidien | hebdomadaire | etc.
- Heures prise : liste des heures
- Statut : actif | arrêté | terminé
- Hash blockchain : pour traçabilité

 9. DOSSIER_MEDICAL
- Identifiant : id_dossier (clé primaire)
- Patient : référence vers PATIENT (1:1)
- Antécédents familiaux : texte libre
- Vaccinations : liste des vaccins
- Hospitalisations : historique
- Chirurgies : interventions
- Allergies : liste détaillée
- Hash blockchain principal : identifiant unique du dossier

 10. RESULTAT_TEST
- Identifiant : id_resultat (clé primaire)
- Dossier médical : référence vers DOSSIER_MEDICAL
- Type test : analyse_sang | radio | scanner | etc.
- Date réalisation : timestamp
- Laboratoire : nom du laboratoire
- Résultats : données du test
- Fichiers joints : images, PDF
- Hash blockchain : pour intégrité

 11. NOTIFICATION
- Identifiant : id_notification (clé primaire)
- Utilisateur : référence vers UTILISATEUR
- Type : rendez_vous | medicament | test | general
- Titre : sujet de la notification
- Contenu : message détaillé
- Date envoi : timestamp
- Statut : envoyé | lu | non_lu
- Priorité : basse | normale | haute | urgente

 12. ARTICLE_EDUCATIF
- Identifiant : id_article (clé primaire)
- Auteur : référence vers PROFESSIONNEL_SANTE
- Titre : titre de l'article
- Contenu : texte de l'article
- Catégorie : prevention | traitement | information
- Date publication : timestamp
- Statut : brouillon | publié | archive
- Vues : nombre de consultations

 13. BLOCKCHAIN_TRANSACTION
- Identifiant : id_transaction (clé primaire)
- Hash transaction : identifiant unique blockchain
- Type donnée : journal_sante | dossier_medical | consultation
- Référence donnée : ID de la donnée originale
- Hash données : hash des données stockées
- Date création : timestamp
- Statut : en_attente | confirmé | rejeté
- Coût : frais de transaction

 14. PRESCRIPTION
- Identifiant : id_prescription (clé primaire)
- Patient : référence vers PATIENT
- Professionnel : référence vers PROFESSIONNEL_SANTE
- Date prescription : timestamp
- Validité : date d'expiration
- Statut : active | expirée | annulée
- Hash blockchain : pour traçabilité

 15. DISPONIBILITE_PROFESSIONNEL
- Identifiant : id_disponibilite (clé primaire)
- Professionnel : référence vers PROFESSIONNEL_SANTE
- Jour semaine : lundi | mardi | ... | dimanche
- Heure début : heure de début
- Heure fin : heure de fin
- Type : presentiel | en_ligne | les_deux
- Statut : active | inactive

Relations Principales

1. UTILISATEUR → RENDEZ_VOUS (1:N)
2. PATIENT → JOURNAL_SANTE (1:N)
3. PATIENT → SUIVI_MEDICAMENT (1:N)
4. PATIENT → DOSSIER_MEDICAL (1:1)
5. PROFESSIONNEL_SANTE → RENDEZ_VOUS (1:N)
6. RENDEZ_VOUS → CONSULTATION_EN_LIGNE (1:1)
7. DOSSIER_MEDICAL → RESULTAT_TEST (1:N)
8. MEDICAMENT → SUIVI_MEDICAMENT (1:N)
9. PRESCRIPTION → SUIVI_MEDICAMENT (1:N)
10. PROFESSIONNEL_SANTE → DISPONIBILITE_PROFESSIONNEL (1:N)

 II. Modèle Logique de Données (MLD)

Tables Principales

 Table : utilisateurs
- id_utilisateur : UUID (clé primaire)
- type_utilisateur : ENUM('patient', 'professionnel_sante')
- nom : VARCHAR(100)
- prenom : VARCHAR(100)
- email : VARCHAR(255) UNIQUE
- telephone : VARCHAR(20)
- date_naissance : DATE
- mot_de_passe_hash : VARCHAR(255)
- sel_authentification : VARCHAR(255)
- statut : ENUM('actif', 'inactif', 'suspendu')
- date_creation : TIMESTAMP
- derniere_connexion : TIMESTAMP

 Table : patients
- id_patient : UUID (clé primaire, référence utilisateurs)
- groupe_sanguin : ENUM('A+', 'A-', 'B+', 'B-', 'AB+', 'AB-', 'O+', 'O-')
- taille : DECIMAL(5,2)
- poids : DECIMAL(5,2)
- allergies : TEXT
- contact_urgence_nom : VARCHAR(100)
- contact_urgence_telephone : VARCHAR(20)
- contact_urgence_relation : VARCHAR(50)
- preferences_langue : VARCHAR(10)
- notifications_actives : BOOLEAN
- hash_blockchain : VARCHAR(255) UNIQUE

 Table : professionnels_sante
- id_professionnel : UUID (clé primaire, référence utilisateurs)
- specialite : VARCHAR(100)
- numero_licence : VARCHAR(50) UNIQUE
- etablissement : VARCHAR(200)
- tarif_consultation_presentiel : DECIMAL(10,2)
- tarif_consultation_en_ligne : DECIMAL(10,2)
- statut_validation : ENUM('en_attente', 'valide', 'rejete')
- certificats : JSON
- date_validation : TIMESTAMP

 Table : rendez_vous
- id_rendez_vous : UUID (clé primaire)
- id_patient : UUID (référence patients)
- id_professionnel : UUID (référence professionnels_sante)
- date_heure : TIMESTAMP
- type_consultation : ENUM('presentiel', 'en_ligne')
- statut : ENUM('planifie', 'confirme', 'en_cours', 'termine', 'annule')
- motif : TEXT
- notes_medecin : TEXT
- hash_blockchain : VARCHAR(255)
- date_creation : TIMESTAMP

 Table : consultations_en_ligne
- id_consultation : UUID (clé primaire)
- id_rendez_vous : UUID (référence rendez_vous)
- type_communication : ENUM('video', 'chat', 'audio')
- lien_videoconference : VARCHAR(500)
- duree_minutes : INTEGER
- enregistrement_autorise : BOOLEAN
- transcription : TEXT
- hash_blockchain : VARCHAR(255)
- date_debut : TIMESTAMP
- date_fin : TIMESTAMP

 Table : journal_sante
- id_entree : UUID (clé primaire)
- id_patient : UUID (référence patients)
- date_entree : TIMESTAMP
- type_entree : ENUM('symptome', 'mesure', 'traitement', 'note')
- description : TEXT
- niveau_douleur : INTEGER (1-10)
- pieces_jointes : JSON
- hash_blockchain : VARCHAR(255)
- date_creation : TIMESTAMP

 Table : medicaments
- id_medicament : UUID (clé primaire)
- nom_commercial : VARCHAR(200)
- nom_generique : VARCHAR(200)
- dosage : VARCHAR(100)
- forme : VARCHAR(50)
- laboratoire : VARCHAR(200)
- code_atc : VARCHAR(20)
- date_creation : TIMESTAMP

 Table : suivi_medicaments
- id_suivi : UUID (clé primaire)
- id_patient : UUID (référence patients)
- id_medicament : UUID (référence medicaments)
- id_prescription : UUID (référence prescriptions)
- date_debut : DATE
- date_fin : DATE
- frequence : VARCHAR(50)
- heures_prise : JSON
- statut : ENUM('actif', 'arrete', 'termine')
- hash_blockchain : VARCHAR(255)
- date_creation : TIMESTAMP

 Table : dossiers_medicaux
- id_dossier : UUID (clé primaire)
- id_patient : UUID (référence patients, UNIQUE)
- antecedents_familiaux : TEXT
- vaccinations : JSON
- hospitalisations : JSON
- chirurgies : JSON
- allergies_detaillees : JSON
- hash_blockchain_principal : VARCHAR(255) UNIQUE
- date_creation : TIMESTAMP
- date_mise_a_jour : TIMESTAMP

 Table : resultats_tests
- id_resultat : UUID (clé primaire)
- id_dossier : UUID (référence dossiers_medicaux)
- type_test : VARCHAR(100)
- date_realisation : DATE
- laboratoire : VARCHAR(200)
- resultats : JSON
- fichiers_joints : JSON
- hash_blockchain : VARCHAR(255)
- date_creation : TIMESTAMP

 Table : notifications
- id_notification : UUID (clé primaire)
- id_utilisateur : UUID (référence utilisateurs)
- type_notification : ENUM('rendez_vous', 'medicament', 'test', 'general')
- titre : VARCHAR(200)
- contenu : TEXT
- date_envoi : TIMESTAMP
- statut : ENUM('envoye', 'lu', 'non_lu')
- priorite : ENUM('basse', 'normale', 'haute', 'urgente')

 Table : articles_educatifs
- id_article : UUID (clé primaire)
- id_auteur : UUID (référence professionnels_sante)
- titre : VARCHAR(300)
- contenu : TEXT
- categorie : ENUM('prevention', 'traitement', 'information')
- date_publication : TIMESTAMP
- statut : ENUM('brouillon', 'publie', 'archive')
- nombre_vues : INTEGER DEFAULT 0

 Table : blockchain_transactions
- id_transaction : UUID (clé primaire)
- hash_transaction : VARCHAR(255) UNIQUE
- type_donnee : ENUM('journal_sante', 'dossier_medical', 'consultation', 'prescription')
- reference_donnee : UUID
- hash_donnees : VARCHAR(255)
- date_creation : TIMESTAMP
- statut : ENUM('en_attente', 'confirme', 'rejete')
- cout_transaction : DECIMAL(10,8)

 Table : prescriptions
- id_prescription : UUID (clé primaire)
- id_patient : UUID (référence patients)
- id_professionnel : UUID (référence professionnels_sante)
- date_prescription : TIMESTAMP
- date_validite : DATE
- statut : ENUM('active', 'expiree', 'annulee')
- hash_blockchain : VARCHAR(255)
- date_creation : TIMESTAMP

 Table : disponibilites_professionnels
- id_disponibilite : UUID (clé primaire)
- id_professionnel : UUID (référence professionnels_sante)
- jour_semaine : ENUM('lundi', 'mardi', 'mercredi', 'jeudi', 'vendredi', 'samedi', 'dimanche')
- heure_debut : TIME
- heure_fin : TIME
- type_consultation : ENUM('presentiel', 'en_ligne', 'les_deux')
- statut : ENUM('active', 'inactive')

 III. Intégration Blockchain

 Architecture Blockchain

 1. Blockchain Privée
- Type : Blockchain privée basée sur Ethereum
- Consensus : Proof of Authority (PoA)
- Nœuds : Hôpitaux, laboratoires, autorités de santé
- Confidentialité : Chiffrement des données sensibles

 2. Smart Contracts
- CarnetSanteContract : Gestion du carnet de santé
- ConsultationContract : Enregistrement des consultations
- PrescriptionContract : Gestion des prescriptions
- AuditContract : Traçabilité des accès

 3. Hash des Données
- Journal de santé : Chaque entrée hashée individuellement
- Dossiers médicaux : Hash global + hash par section
- Consultations : Hash de la transcription + métadonnées
- Prescriptions : Hash complet de la prescription

 4. Sécurité Blockchain
- Chiffrement : AES-256 pour les données sensibles
- Clés : Gestion des clés privées via HSM
- Accès : Contrôle d'accès basé sur les rôles
- Audit : Traçabilité complète des modifications